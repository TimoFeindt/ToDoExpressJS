<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./scss/base.css">
    <title>To Do</title>
</head>
<body>
    <h1>To Do App</h1>

    <h1>To-Do List</h1>

    <form action="/tasks" method="POST">
        <label for="inputNewTask">
            New Task
            <input name="inputNewTask" type="text" value="<%= locals.inputNewTask %>">          
        </label>
        <label for="taskCompleted">
            Done
            <select name="taskCompleted" id="taskCompleted">
                <option value="false">Not Done</option>
                <option value="true">Done</option>
            </select>
        </label>
        <button type="submit">Submit new Task</button>
    </form>

    <% const resultArray = locals.result.rows %>
    <% resultArray.forEach(element => {  %>
        <div>
            <p> <%= element.title %> <label for="checkboxTask">done?</label><input id="checkboxTask" type="checkbox" <%= element.done ? 'checked' : '' %> ></p>
        </div>
    <% }); %>
    
  
    <!-- NO need for this anymore <a href="/tasks/getTask">Go to search for a task</a>
    <br> -->
    <!-- <a href="/tasks/addTask">Go to add a new task</a>  No need because I put the add Task part into the main task page -->
</body>
</html>